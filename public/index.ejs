<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Yotei - A Planner App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> -->
  </head>
  <body>
    <div class="container-sm">
      <div class="jumbotron mt-3">
        <h1 class="display-3">Yotei - Decluttering made easy</h1><br>
        <i class="fas fa-trash-alt"></i>
        <h1 class="text-center font-weight-light">Total tasks: <%= data.length %></h1>
        <div class="card-group">
          <% for (var i=0;i<data.length;i++) { %>
            <div class="col-sm-4">
              <div class="card">
                <div class="card-header">
                  <%= data[i].coursename %>
                </div>
                <ul class="list-group list-group-flush">
                  <% for(var j=0;j<data[i].all_deadlines.length;j++) { %>
                    <% if(data[i].all_deadlines[j].type=="Homework") { %>
                      <li class="list-group-item"><span class="badge badge-pill badge-dark"><%= data[i].all_deadlines[j].deadline %></span> <span class="badge badge-pill badge-success">Homework</span> <br> <%= data[i].all_deadlines[j].description %>
                        <form action="/task/delete/<%- data[i]._id %>/<%- data[i].all_deadlines[j]._id %>" method="POST">
                          <div class="form-group">
                            <button type="submit" class="btn btn-outline-danger btn-sm">Delete</button>
                          </div>
                        </form>
                      </li>
                    <% } %>
                    <% if(data[i].all_deadlines[j].type=="Assignment") { %>
                      <li class="list-group-item"><span class="badge badge-pill badge-dark"><%= data[i].all_deadlines[j].deadline %></span> <span class="badge badge-pill badge-warning">Assignment</span> <br> <%= data[i].all_deadlines[j].description %>
                        <form action="/task/delete/<%- data[i]._id %>/<%- data[i].all_deadlines[j]._id %>" method="POST">
                          <div class="form-group">
                            <button type="submit" class="btn btn-outline-danger btn-sm">Delete</button>
                          </div>
                        </form>
                      </li>
                    <% } %>
                    <% if(data[i].all_deadlines[j].type=="Project") { %>
                      <li class="list-group-item"><span class="badge badge-pill badge-dark"><%= data[i].all_deadlines[j].deadline %></span> <span class="badge badge-pill badge-info">Project</span> <br> <%= data[i].all_deadlines[j].description %>
                        <form action="/task/delete/<%- data[i]._id %>/<%- data[i].all_deadlines[j]._id %>" method="POST">
                          <div class="form-group">
                            <button type="submit" class="btn btn-outline-danger btn-sm">Delete</button>
                          </div>
                        </form>
                      </li>
                    <% } %>
                    <% if(data[i].all_deadlines[j].type=="Tutorial") { %>
                      <li class="list-group-item"><span class="badge badge-pill badge-dark"><%= data[i].all_deadlines[j].deadline %></span> <span class="badge badge-pill badge-secondary">Tutorial</span> <br> <%= data[i].all_deadlines[j].description %>
                        <form action="/task/delete/<%- data[i]._id %>/<%- data[i].all_deadlines[j]._id %>" method="POST">
                          <div class="form-group">
                            <button type="submit" class="btn btn-outline-danger btn-sm">Delete</button>
                          </div>
                        </form>
                      </li>
                    <% } %>
                  <% } %>
                </ul>
              </div>
            </div>
          <% } %>
        </div>
      </div>
      <button onclick="presentAddForm()" type="button" class="btn btn-primary btn-lg btn-block">Add a course</button>
      <div id="form1" style = "display:none">
        <form id='AddForm' action="/" method="POST">
          <div class="form-group">
            <label for="courseselect">Course Name</label>
            <select name="coursename" class="form-control" id="courseselect">
              <option value="COL703">COL703</option>
              <option value="HUL212">HUL212</option>
              <option value="COL764">COL764</option>
              <option value="COL759">COL759</option>
              <option value="COL351">COL351</option>
              <option value="COD891">COD891</option>
            </select>
            <small id="courseHelp" class="form-text text-muted">All the best in advance ;)</small>
          </div>

          <label for="options">Tag:</label>

          <!-- <div class="btn-group btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-secondary active">
              <input type="radio" name="options" id="hw" value="hw" checked> Homework </input>
            </label>
            <label class="btn btn-secondary">
              <input type="radio" name="options" id="assn" value="assn"> Assignment </input>
            </label>
            <label class="btn btn-secondary">
              <input type="radio" name="options" id="project" value="project"> Project </input>
            </label>
          </div>
          <br><br> -->

          <input type="radio" name="options" id="hw" value="hw"> Homework </input>
  				<input type="radio" name="options" id="assn" value="assn"> Assignment </input>
          <input type="radio" name="options" id="project" value="project"> Project </input>
  				<input type="radio" name="options" id="tut" value="tut"> Tutorial </input>

          <div class="row">
            <div class="col">
              <input name="date" type="text" class="form-control" placeholder="Deadline">
            </div>
            <div class="col">
              <input name="descr" type="text" class="form-control" placeholder="Description">
            </div>
          </div>
          <br>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>
    <script>
      function presentAddForm() {
        var y = document.getElementById('form1');
        if(y.style.display == 'none'){
          y.style.display = '';
        }
        else {
          y.style.display = 'none';
        }
        // var x = document.getElementById('AddForm');
        // if (x.style.display === "none") {
        //   x.style.display = "block";
        // } else {
        //   x.style.display = "none";
        // }
      }
      function presentAddTaskForm(coursename) {
        console.log(coursename);
        document.getElementById('addtaskdiv').style.display = '';
      }
    </script>
  </body>
</html>
